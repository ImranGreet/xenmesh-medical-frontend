import{d as W,c as f,o as d,w as l,r as at,i as st,u as e,E as ut,a as m,G as z,e as H,b as nt,s as _,x as n,h as t,p as O,y as s,F as $,C as S,D as r,H as P}from"./index-w76hrGnJ.js";import{_ as V,a as dt,b as rt,c as ot,d as J,e as o,f as it,g as i}from"./TableHeader.vue_vue_type_script_setup_true_lang-EBeN__K4.js";import{D as ft,_ as R,g as _t,a as E,b as F,c as G,d as L,e as U,f as v,h as x}from"./Badge.vue_vue_type_script_setup_true_lang-IHDeTjfT.js";import{_ as k}from"./index-DnPRVrvw.js";import{_ as C,a as D,b as B,c as T,d as j}from"./SheetTitle.vue_vue_type_script_setup_true_lang-BT_sLBkN.js";import{_ as mt,a as pt,b as gt,c as vt,d as xt,e as yt}from"./PaginationPrevious.vue_vue_type_script_setup_true_lang-D-bpibRO.js";import{_ as ct}from"./PatientRegistration.vue_vue_type_script_setup_true_lang-u92z7QxT.js";import{a as Q,u as bt,_ as Y}from"./AddnewAppoinment.vue_vue_type_script_setup_true_lang-DohgTLij.js";import"./x-BG99v_Wv.js";import"./chevron-right-gHyBZV31.js";import"./Label.vue_vue_type_script_setup_true_lang-SEc_EX8i.js";const M=W({__name:"SheetTrigger",props:{asChild:{type:Boolean},as:{}},setup(b){const p=b;return(y,I)=>(d(),f(e(ft),st({"data-slot":"sheet-trigger"},p),{default:l(()=>[at(y.$slots,"default")]),_:3},16))}}),wt=ut("patients",()=>{let b=m([]),p=m(),y=m();return{patients:b,searchKeyword:p,retrievePatients:async function(A=100){let c=await Q.get("/api/filter-patient-list",{params:{per_page:A,serach:p.value}});b.value=c.data.patientList,y.value=c.data.meta},registerNewPatient:async function(){if(await Q.post("register-patient"))return 0}}}),$t={class:"w-full"},Pt={class:"w-full mb-20"},kt={class:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},At={class:"w-full flex-col md:flex-row flex justify-between items-center mt-2 mb-3.5 pb-2"},Nt={class:"flex flex-wrap gap-1.5"},St={class:"text-gray-500"},Vt={key:1},Ct={class:"text-left"},Dt={class:"text-md font-semibold"},Bt={class:"flex gap-1"},Tt={class:"w-full flex justify-between items-center"},qt=W({__name:"patientList",setup(b){const p=wt(),y=bt(),{patients:I,searchKeyword:w}=z(p),{doctors:A}=z(y),{retrievePatients:c}=p,{retrieveDoctors:X}=y;let Z=m(25),h=m(250),tt=m(1250),et=m(125),g=m(10);return H(g,q=>{c(q)}),H(w,()=>{c(g.value)}),nt(async()=>{await X(),await c(g.value)}),(q,a)=>(d(),_("section",$t,[a[42]||(a[42]=n("div",{class:"w-full flex justify-between items-center py-10"},[n("h1",{class:"text-2xl font-bold"},"Patient Management")],-1)),n("div",Pt,[n("div",kt,[t(V,{title:"Todays Patients",iconId:"calendar-icon",count:e(Z)},null,8,["count"]),t(V,{title:"New This Month",iconId:"calendar-icon",count:e(h)},null,8,["count"]),t(V,{title:"Active Patients",iconId:"shield-active-icon",count:e(tt)},null,8,["count"]),t(V,{title:"Deactive Patient",iconId:"shield-deactive-icon",count:e(et)},null,8,["count"])])]),n("div",At,[a[9]||(a[9]=n("h1",{class:"text-2xl font-semibold"},"Find Patients",-1)),n("div",Nt,[t(e(R),null,{default:l(()=>[t(e(E),null,{default:l(()=>[t(e(F),{placeholder:"Select a doctor"})]),_:1}),t(e(G),{class:"max-h-72 overflow-y-auto"},{default:l(()=>[t(e(L),null,{default:l(()=>[t(e(U),null,{default:l(()=>[...a[2]||(a[2]=[s("Doctors",-1)])]),_:1}),(d(!0),_($,null,S(e(A),u=>(d(),f(e(v),{value:"{{ doctor.name}}"},{default:l(()=>[s(r(u.name),1)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}),t(e(R),null,{default:l(()=>[t(e(E),null,{default:l(()=>[t(e(F),{placeholder:"Select a status"})]),_:1}),t(e(G),null,{default:l(()=>[t(e(L),null,{default:l(()=>[t(e(U),null,{default:l(()=>[...a[3]||(a[3]=[s("Status",-1)])]),_:1}),t(e(v),{value:"deactive"},{default:l(()=>[...a[4]||(a[4]=[s(" Deactive ",-1)])]),_:1}),t(e(v),{value:"active"},{default:l(()=>[...a[5]||(a[5]=[s(" Active ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(k,{class:"justify-self-end"},{default:l(()=>[...a[6]||(a[6]=[s("+ Export",-1)])]),_:1}),t(e(C),{class:"max-w-2xs"},{default:l(()=>[t(e(M),null,{default:l(()=>[t(k,{variant:"outline"},{default:l(()=>[...a[7]||(a[7]=[s(" + Add New Patient ",-1)])]),_:1})]),_:1}),t(e(D),null,{default:l(()=>[t(e(B),null,{default:l(()=>[t(e(T),null,{default:l(()=>[...a[8]||(a[8]=[s("Are you absolutely sure?",-1)])]),_:1}),t(e(j),null,{default:l(()=>[t(ct)]),_:1})]),_:1})]),_:1})]),_:1})])]),t(e(_t),{placeholder:"Search by Patient id ,patien name",modelValue:e(w),"onUpdate:modelValue":a[0]||(a[0]=u=>O(w)?w.value=u:null)},null,8,["modelValue"]),t(e(dt),{class:"caption-top mt-5"},{default:l(()=>[t(e(rt),{class:"text-xl font-semibold border-b pb-2"},{default:l(()=>[...a[10]||(a[10]=[s("A list of Registered Patients.",-1)])]),_:1}),t(e(ot),{class:"font-bold text-md"},{default:l(()=>[t(e(J),null,{default:l(()=>[t(e(o),{class:"text-gray-800"},{default:l(()=>[...a[11]||(a[11]=[s(" Patient id ",-1)])]),_:1}),t(e(o),{class:"text-gray-800"},{default:l(()=>[...a[12]||(a[12]=[s(" Patient Name ",-1)])]),_:1}),t(e(o),{class:"text-gray-800"},{default:l(()=>[...a[13]||(a[13]=[s("Status",-1)])]),_:1}),t(e(o),{class:"text-gray-800"},{default:l(()=>[...a[14]||(a[14]=[s("Phone Number",-1)])]),_:1}),t(e(o),{class:"text-gray-800"},{default:l(()=>[...a[15]||(a[15]=[s("Age",-1)])]),_:1}),t(e(o),{class:"text-gray-800"},{default:l(()=>[...a[16]||(a[16]=[s("Keep Records",-1)])]),_:1}),t(e(o),{class:"text-gray-800 text-right"},{default:l(()=>[...a[17]||(a[17]=[s("Blood Group",-1)])]),_:1}),t(e(o),{class:"text-left text-gray-800"},{default:l(()=>[...a[18]||(a[18]=[s(" Allergies ",-1)])]),_:1}),t(e(o),{class:"text-right text-gray-800"},{default:l(()=>[...a[19]||(a[19]=[s(" Gender ",-1)])]),_:1}),t(e(o),{class:"text-right text-gray-800"},{default:l(()=>[...a[20]||(a[20]=[s(" Admitted ",-1)])]),_:1}),t(e(o),{class:"text-center text-gray-800"},{default:l(()=>[...a[21]||(a[21]=[s(" Address ",-1)])]),_:1}),t(e(o),{class:"text-left text-gray-800"},{default:l(()=>[...a[22]||(a[22]=[s(" Created By ",-1)])]),_:1}),t(e(o),{class:"text-left text-gray-800"},{default:l(()=>[...a[23]||(a[23]=[s(" Bill ",-1)])]),_:1}),t(e(o),{class:"text-left text-gray-800"},{default:l(()=>[...a[24]||(a[24]=[s(" Action ",-1)])]),_:1})]),_:1})]),_:1}),t(e(it),null,{default:l(()=>[(d(!0),_($,null,S(e(I),u=>(d(),f(e(J),{key:u.id},{default:l(()=>[t(e(i),{class:"font-medium p-3"},{default:l(()=>[n("span",St,r(u.generated_patient_id),1)]),_:2},1024),t(e(i),{class:"font-medium p-3"},{default:l(()=>[s(r(u.patient_name),1)]),_:2},1024),t(e(i),{class:"p-3"},{default:l(()=>[u.is_active===1?(d(),f(x,{key:0,variant:"default",class:"bg-blue-500"},{default:l(()=>[...a[25]||(a[25]=[s("Active",-1)])]),_:1})):P("",!0),u.is_active===0?(d(),f(x,{key:1,variant:"destructive"},{default:l(()=>[...a[26]||(a[26]=[s("Not Active",-1)])]),_:1})):P("",!0)]),_:2},1024),t(e(i),{class:"p-3"},{default:l(()=>[s(r(u.phone_number),1)]),_:2},1024),t(e(i),{class:"p-3"},{default:l(()=>[s(r(u.age),1)]),_:2},1024),t(e(i),{class:"p-3"},{default:l(()=>[u.keep_records===1?(d(),f(x,{key:0,variant:"outline",class:"bg-blue-500 text-white"},{default:l(()=>[...a[27]||(a[27]=[s("Yes",-1)])]),_:1})):(d(),f(x,{key:1,variant:"destructive"},{default:l(()=>[...a[28]||(a[28]=[s("No",-1)])]),_:1}))]),_:2},1024),t(e(i),{class:"p-3 text-center"},{default:l(()=>[u.blood_group==="O-"?(d(),f(x,{key:0,variant:"destructive"},{default:l(()=>[s(r(u.blood_group),1)]),_:2},1024)):(d(),_("span",Vt,r(u.blood_group),1))]),_:2},1024),t(e(i),{class:"text-left p-3"},{default:l(()=>[s(r(u.allergies),1)]),_:2},1024),t(e(i),{class:"text-right p-3 capitalize"},{default:l(()=>[s(r(u.sex),1)]),_:2},1024),t(e(i),{class:"text-right p-3"},{default:l(()=>[u.is_admitted===1?(d(),f(x,{key:0,variant:"default"},{default:l(()=>[...a[29]||(a[29]=[s("Yes",-1)])]),_:1})):P("",!0),u.is_admitted===0?(d(),f(x,{key:1,variant:"destructive"},{default:l(()=>[...a[30]||(a[30]=[s("No",-1)])]),_:1})):P("",!0)]),_:2},1024),t(e(i),{class:"text-center p-3"},{default:l(()=>[s(r(u.address),1)]),_:2},1024),t(e(i),{class:"text-center p-3"},{default:l(()=>[n("div",Ct,[n("p",Dt,r(u.created_by?.name),1),n("p",null,r(u.created_by?.role),1)])]),_:2},1024),t(e(i),{class:"text-left"},{default:l(()=>[(d(!0),_($,null,S(u.bills,K=>(d(),_("span",null,r(Math.floor(K.total)),1))),256))]),_:2},1024),t(e(i),{class:"text-left p-3"},{default:l(()=>[n("div",Bt,[t(e(C),null,{default:l(()=>[t(e(M),null,{default:l(()=>[t(k,{variant:"secondary",class:"w-5 h-5 bg-purple-700 hover:bg-purple-800"},{default:l(()=>[...a[31]||(a[31]=[n("svg",{class:"w-2.5 h-2.5 text-white"},[n("use",{href:"#plus-icon"})],-1)])]),_:1})]),_:1}),t(e(D),null,{default:l(()=>[t(e(B),null,{default:l(()=>[t(e(T),null,{default:l(()=>[...a[32]||(a[32]=[s("Are you absolutely sure?",-1)])]),_:1}),t(e(j),null,{default:l(()=>[t(Y)]),_:1})]),_:1})]),_:1})]),_:1}),t(e(C),null,{default:l(()=>[t(e(M),null,{default:l(()=>[t(k,{variant:"secondary",class:"w-5 h-5 bg-purple-700 hover:bg-purple-800"},{default:l(()=>[...a[33]||(a[33]=[n("svg",{class:"w-2.5 h-2.5 text-white"},[n("use",{href:"#component-icon"})],-1)])]),_:1})]),_:1}),t(e(D),null,{default:l(()=>[t(e(B),null,{default:l(()=>[t(e(T),null,{default:l(()=>[...a[34]||(a[34]=[s("Are you absolutely sure?",-1)])]),_:1}),t(e(j),null,{default:l(()=>[t(Y)]),_:1})]),_:1})]),_:1})]),_:1}),t(e(C),null,{default:l(()=>[t(e(M),null,{default:l(()=>[t(k,{variant:"outline",class:"w-5 h-5"},{default:l(()=>[...a[35]||(a[35]=[n("svg",{class:"w-2.5 h-2.5"},[n("use",{href:"#expand-icon"})],-1)])]),_:1})]),_:1}),t(e(D),null,{default:l(()=>[t(e(B),null,{default:l(()=>[t(e(T),null,{default:l(()=>[...a[36]||(a[36]=[s("Are you absolutely sure?",-1)])]),_:1}),t(e(j),null,{default:l(()=>[t(Y)]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:2},1024))),128))]),_:1})]),_:1}),n("div",Tt,[t(e(R),{modelValue:e(g),"onUpdate:modelValue":a[1]||(a[1]=u=>O(g)?g.value=u:g=u),onchange:"retrievePatients"},{default:l(()=>[t(e(E),null,{default:l(()=>[t(e(F),{placeholder:"Per Page"})]),_:1}),t(e(G),null,{default:l(()=>[t(e(L),null,{default:l(()=>[t(e(U),null,{default:l(()=>[...a[37]||(a[37]=[s("Per Page",-1)])]),_:1}),t(e(v),{value:"10"},{default:l(()=>[...a[38]||(a[38]=[s(" 10 ",-1)])]),_:1}),t(e(v),{value:"20"},{default:l(()=>[...a[39]||(a[39]=[s(" 20 ",-1)])]),_:1}),t(e(v),{value:"25"},{default:l(()=>[...a[40]||(a[40]=[s(" 25 ",-1)])]),_:1}),t(e(v),{value:"30"},{default:l(()=>[...a[41]||(a[41]=[s(" 30 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(e(mt),{"items-per-page":10,total:30,"default-page":2,class:"my-2"},{default:l(({page:u})=>[t(e(pt),null,{default:l(({items:K})=>[t(e(gt)),(d(!0),_($,null,S(K,(N,lt)=>(d(),_($,{key:lt},[N.type==="page"?(d(),f(e(yt),{key:0,value:N.value,"is-active":N.value===u},{default:l(()=>[s(r(N.value),1)]),_:2},1032,["value","is-active"])):P("",!0)],64))),128)),t(e(vt),{index:4}),t(e(xt))]),_:2},1024)]),_:1})])]))}});export{qt as default};
